# 应用配置
NODE_ENV=development
PORT=3001
APP_NAME=WeDraw Miniprogram Service
APP_VERSION=1.0.0
APP_DESCRIPTION=WeDraw小程序后端服务

# 服务器配置
HOST=0.0.0.0
TIMEZONE=Asia/Shanghai
LANGUAGE=zh-CN

# 数据库配置
DB_HOST=localhost
DB_PORT=3306
DB_NAME=wedraw_miniprogram
DB_USER=root
DB_PASSWORD=your_database_password
DB_CHARSET=utf8mb4
DB_COLLATE=utf8mb4_unicode_ci
DB_DIALECT=mysql
DB_TIMEZONE=+08:00
DB_LOGGING=false
DB_POOL_MAX=20
DB_POOL_MIN=5
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_PREFIX=wedraw:miniprogram:
REDIS_TTL=3600
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# JWT配置
JWT_SECRET=your_jwt_secret_key_change_in_production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=miniprogram-refresh-secret-key-change-in-production
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=wedraw-miniprogram-service
JWT_AUDIENCE=wedraw-miniprogram

# 微信小程序配置
WECHAT_APPID=your_wechat_miniprogram_appid
WECHAT_SECRET=your_wechat_miniprogram_secret
WECHAT_TOKEN=your_wechat_token
WECHAT_ENCODING_AES_KEY=your_wechat_encoding_aes_key
WECHAT_API_BASE_URL=https://api.weixin.qq.com
WECHAT_TIMEOUT=10000

# 微信支付配置（如果需要）
WX_PAY_MCH_ID=your_mch_id
WX_PAY_KEY=your_pay_key
WX_PAY_CERT_PATH=./certs/apiclient_cert.pem
WX_PAY_KEY_PATH=./certs/apiclient_key.pem

# 文件上传配置
UPLOAD_PATH=./uploads
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp

# 消息推送配置
PUSH_TEMPLATE_ID_WELCOME=your_welcome_template_id
PUSH_TEMPLATE_ID_ORDER=your_order_template_id
PUSH_TEMPLATE_ID_ACTIVITY=your_activity_template_id
PUSH_TEMPLATE_ID_SYSTEM=your_system_template_id

# 短信配置（可选）
SMS_ACCESS_KEY_ID=your_sms_access_key_id
SMS_ACCESS_KEY_SECRET=your_sms_access_key_secret
SMS_SIGN_NAME=your_sms_sign_name
SMS_TEMPLATE_CODE_VERIFY=your_verify_template_code

# 邮件配置（可选）
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@example.com
EMAIL_PASS=your_email_password
EMAIL_FROM=WeDraw <noreply@wedraw.com>

# 第三方服务配置
QINIU_ACCESS_KEY=your_qiniu_access_key
QINIU_SECRET_KEY=your_qiniu_secret_key
QINIU_BUCKET=your_qiniu_bucket
QINIU_DOMAIN=your_qiniu_domain

# 日志配置
LOG_LEVEL=info
LOG_FILE_PATH=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

# 缓存配置
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER_INFO=1800
CACHE_TTL_ACCESS_TOKEN=7200
CACHE_TTL_SESSION=86400

# 安全配置
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
API_KEYS=your_api_key_1,your_api_key_2
ENCRYPTION_KEY=your_encryption_key_32_chars_long
HASH_SALT_ROUNDS=12

# 速率限制配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=false

# 监控配置
MONITOR_ENABLED=true
MONITOR_PATH=/status
MONITOR_TITLE=小程序服务监控

# 定时任务配置
CRON_ENABLED=true
CRON_CLEAN_LOGS=0 2 * * *
CRON_SYNC_USER_DATA=0 */6 * * *
CRON_SEND_NOTIFICATIONS=*/5 * * * *

# 外部服务配置
USER_CENTER_URL=http://localhost:3001
API_GATEWAY_URL=http://localhost:3000
WEWORK_SERVICE_URL=http://localhost:3003

# 开发配置
DEBUG=miniprogram:*
DEBUG_COLORS=true
DEBUG_HIDE_DATE=false

# 性能配置
CLUSTER_ENABLED=false
CLUSTER_WORKERS=0
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000

# 小程序特定配置
MINIPROGRAM_VERSION=1.0.0
MINIPROGRAM_ENV=develop
MINIPROGRAM_DEBUG=true

# 用户配置
USER_DEFAULT_AVATAR=https://example.com/default-avatar.png
USER_MAX_NICKNAME_LENGTH=20
USER_SESSION_TIMEOUT=86400

# 消息配置
MESSAGE_MAX_LENGTH=500
MESSAGE_BATCH_SIZE=100
MESSAGE_RETRY_TIMES=3
MESSAGE_RETRY_DELAY=5000

# 统计配置
STATS_ENABLED=true
STATS_RETENTION_DAYS=90
STATS_BATCH_SIZE=1000