# 应用配置
NODE_ENV=development
PORT=3000
HOST=localhost
APP_NAME=WeDraw积分商城
APP_VERSION=1.0.0

# 数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_NAME=points_mall
DB_USER=postgres
DB_PASSWORD=your_password
DB_DIALECT=postgres
DB_LOGGING=false
DB_SYNC=false
DB_POOL_MAX=20
DB_POOL_MIN=0
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Redis配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=points_mall:
REDIS_CONNECT_TIMEOUT=10000
REDIS_COMMAND_TIMEOUT=5000

# JWT配置
JWT_SECRET=your_jwt_secret_key_here_make_it_very_long_and_secure
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret_key_here
JWT_REFRESH_EXPIRES_IN=30d
JWT_ISSUER=wedraw-points-mall
JWT_AUDIENCE=wedraw-users

# 加密配置
ENCRYPTION_KEY=your_32_character_encryption_key_here
HASH_SALT_ROUNDS=12

# 文件上传配置
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,application/pdf
IMAGE_QUALITY=80
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080

# CORS配置
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3000
CORS_CREDENTIALS=true

# 限流配置
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# 日志配置
LOG_LEVEL=info
LOG_DIR=logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD
LOG_COMPRESS=true

# 缓存配置
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
CACHE_CHECK_PERIOD=600

# 邮件配置
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=your_email@gmail.com
MAIL_PASS=your_app_password
MAIL_FROM_NAME=WeDraw积分商城
MAIL_FROM_EMAIL=noreply@wedraw.com

# 短信配置
SMS_PROVIDER=aliyun
SMS_ACCESS_KEY_ID=your_access_key_id
SMS_ACCESS_KEY_SECRET=your_access_key_secret
SMS_SIGN_NAME=WeDraw
SMS_TEMPLATE_CODE=SMS_123456789

# 支付配置
# 支付宝配置
ALIPAY_APP_ID=your_alipay_app_id
ALIPAY_PRIVATE_KEY=your_alipay_private_key
ALIPAY_PUBLIC_KEY=your_alipay_public_key
ALIPAY_GATEWAY=https://openapi.alipay.com/gateway.do
ALIPAY_NOTIFY_URL=https://your-domain.com/api/payments/alipay/notify
ALIPAY_RETURN_URL=https://your-domain.com/payment/success

# 微信支付配置
WECHAT_APP_ID=your_wechat_app_id
WECHAT_MCH_ID=your_wechat_mch_id
WECHAT_API_KEY=your_wechat_api_key
WECHAT_CERT_PATH=./certs/wechat/apiclient_cert.pem
WECHAT_KEY_PATH=./certs/wechat/apiclient_key.pem
WECHAT_NOTIFY_URL=https://your-domain.com/api/payments/wechat/notify

# 第三方服务配置
# 七牛云存储
QINIU_ACCESS_KEY=your_qiniu_access_key
QINIU_SECRET_KEY=your_qiniu_secret_key
QINIU_BUCKET=your_qiniu_bucket
QINIU_DOMAIN=your_qiniu_domain

# 阿里云OSS
ALI_OSS_ACCESS_KEY_ID=your_ali_oss_access_key_id
ALI_OSS_ACCESS_KEY_SECRET=your_ali_oss_access_key_secret
ALI_OSS_BUCKET=your_ali_oss_bucket
ALI_OSS_REGION=oss-cn-hangzhou
ALI_OSS_ENDPOINT=https://oss-cn-hangzhou.aliyuncs.com

# 监控配置
MONITOR_ENABLED=false
MONITOR_ENDPOINT=https://your-monitor-endpoint.com
MONITOR_API_KEY=your_monitor_api_key

# 性能配置
CLUSTER_ENABLED=false
CLUSTER_WORKERS=0
KEEP_ALIVE_TIMEOUT=5000
HEADERS_TIMEOUT=60000

# 安全配置
SECURITY_ENABLED=true
CSRF_ENABLED=false
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# API配置
API_PREFIX=/api
API_VERSION=v1
API_DOCS_ENABLED=true
API_DOCS_PATH=/api-docs

# 业务配置
# 积分配置
POINTS_EXPIRE_DAYS=365
POINTS_MIN_EXCHANGE=100
POINTS_MAX_DAILY_EARN=1000
POINTS_SIGN_REWARD=10
POINTS_SHARE_REWARD=5
POINTS_REVIEW_REWARD=20

# 订单配置
ORDER_TIMEOUT_MINUTES=30
ORDER_AUTO_CONFIRM_DAYS=7
ORDER_REFUND_TIMEOUT_DAYS=15

# 优惠券配置
COUPON_MAX_USE_COUNT=1
COUPON_MIN_ORDER_AMOUNT=100

# 库存配置
STOCK_WARNING_THRESHOLD=10
STOCK_AUTO_REPLENISH=false

# 推荐配置
RECOMMEND_CACHE_TTL=1800
RECOMMEND_MAX_ITEMS=20
RECOMMEND_ALGORITHM=collaborative_filtering

# 搜索配置
SEARCH_CACHE_TTL=300
SEARCH_MAX_RESULTS=100
SEARCH_MIN_QUERY_LENGTH=2

# 通知配置
NOTIFICATION_ENABLED=true
NOTIFICATION_CHANNELS=email,sms,push
NOTIFICATION_RETRY_TIMES=3
NOTIFICATION_RETRY_DELAY=5000

# 定时任务配置
CRON_ENABLED=true
CRON_TIMEZONE=Asia/Shanghai
CRON_CLEANUP_LOGS=0 2 * * *
CRON_UPDATE_STATS=0 1 * * *
CRON_EXPIRE_COUPONS=0 0 * * *
CRON_BACKUP_DB=0 3 * * 0

# 开发配置
DEBUG_ENABLED=false
DEBUG_NAMESPACE=points-mall:*
PROFILE_ENABLED=false
MOCK_ENABLED=false

# 测试配置
TEST_DB_NAME=points_mall_test
TEST_REDIS_DB=1
TEST_TIMEOUT=30000
TEST_COVERAGE_THRESHOLD=80